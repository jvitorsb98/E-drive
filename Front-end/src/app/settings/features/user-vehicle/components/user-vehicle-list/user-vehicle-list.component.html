<div class="top-bar pt-3">
	<div class="d-flex justify-content-between container-fluid">
		<div class="justify-content-start">
			<mat-icon class="arrow-back-icon" routerLink="/e-driver/dashboard">arrow_back</mat-icon>
		</div>
		<div class="flex-grow-1 text-center">
			<h1 class="text-white">Meus Veículos</h1>
		</div>
	</div>
</div>

<div class="container coll-2 col-md-6 col-sm-9 col-lg-5" id="table-container">
	<div class="row">
		<div class="custom-filter">
			<mat-form-field class="d-flex w-100">
				<input matInput (keyup)="applyFilter($event)" placeholder="Busca por versão" #input>
			</mat-form-field>
		</div>

		<div class="container">
			<table mat-table [dataSource]="dataSource" matSort>
				<ng-container matColumnDef="icon">
					<th class="th-table" mat-header-cell *matHeaderCellDef mat-sort-header>
						<mat-icon
							matTooltip="Estes ícones representam cada carro listado abaixo. Clique para ver detalhes de cada um.">directions_car
						</mat-icon>
					</th>

					<td class="td-table" mat-cell *matCellDef="let userVehicle">
						<mat-icon class="icone-carro" [matTooltip]=" 'Autonomia/cidade: ' + userVehicle.autonomy.mileagePerLiterCity + ' km/l'
              + '\nAutonomia/estrada: ' + userVehicle.autonomy.mileagePerLiterRoad + ' km/l'
              + '\nAno: ' + userVehicle.year" matTooltipClass="multi-line-tooltip"> directions_car
						</mat-icon>
					</td>
					
				</ng-container>

				<ng-container matColumnDef="mark">
					<th class="th-table" mat-header-cell *matHeaderCellDef mat-sort-header><strong>Marca</strong></th>
					<td class="td-table" mat-cell *matCellDef="let userVehicle">
						<strong>{{userVehicle.model.brand.name}}</strong>
					</td>
				</ng-container>

				<ng-container matColumnDef="model">
					<th class="th-table" mat-header-cell *matHeaderCellDef mat-sort-header><strong>Modelo</strong></th>
					<td class="td-table" mat-cell *matCellDef="let userVehicle">
						<strong>{{userVehicle.model.name}}</strong>
					</td>
				</ng-container>

				<ng-container matColumnDef="version">
					<th class="th-table" mat-header-cell *matHeaderCellDef mat-sort-header><strong>Versão</strong></th>
					<td class="td-table" mat-cell *matCellDef="let userVehicle"><strong>{{userVehicle.version}}</strong>
					</td>
				</ng-container>

				<!-- Actions Column -->
				<ng-container matColumnDef="actions">
					<th class="th-table" mat-header-cell *matHeaderCellDef mat-sort-header><strong>Ações</strong></th>
					<td class="td-table" mat-cell *matCellDef="let userVehicle">
						<mat-icon class="icone-table" (click)="openModalViewVehicle(userVehicle)">visibility</mat-icon>
						<mat-icon class="icone-table" (click)="openModalEditUserVehicle(userVehicle)">edit</mat-icon>
						<mat-icon class="icone-table" (click)="deleteUserVehicle(userVehicle)">delete</mat-icon>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

				<div *ngIf="input.value.length != 0">
					<tr class="mat-row" *matNoDataRow>
						<td class="mat-cell no-data" colspan="5" *ngIf="input.value && !dataSource.filteredData.length">
							Não foram encontrados dados para a pesquisa: "{{ input.value }}"
						</td>
					</tr>
				</div>
			</table>
		</div>
		<mat-paginator class="shadow-sn" [pageSizeOptions]="[5, 10, 15]"
			aria-label="Selecione veículos por página"></mat-paginator>

		<button class="btn" type="button" (click)="openModalAddUserVehicle()">Novo Veículo</button>
	</div>
</div>